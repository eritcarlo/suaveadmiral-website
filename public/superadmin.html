<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Super Admin Dashboard</title>
  <link rel="stylesheet" href="admin.css"> <!-- Use admin layout CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* Navbar styling to match homepage exactly */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(207, 12, 2, 0.2);
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .navbar img {
      height: 60px;
      margin-right: 18px;
      transition: transform 0.3s ease;
    }

    .navbar img:hover {
      transform: scale(1.1);
    }

    .navbar h1 {
      font-family: "Great Vibes", cursive;
      font-size: 2.5rem;
      margin: 0;
      color: #cf0c02;
      text-shadow: 2px 2px 10px rgba(207, 12, 2, 0.5);
      flex-grow: 1;
      margin-left: 1rem;
    }

    .navbar ul {
      list-style: none;
      display: flex;
      margin: 0;
      padding: 0;
      gap: 2rem;
      margin-left: auto;
      margin-right: 2rem;
    }

    .navbar ul li {
      display: inline;
    }

    .navbar ul li a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      font-size: 1rem;
      transition: all 0.3s ease;
      padding: 0.5rem 1rem;
      border-radius: 25px;
      position: relative;
    }

    .navbar ul li a::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: #cf0c02;
      transition: all 0.3s ease;
      transform: translateX(-50%);
    }

    .navbar ul li a:hover::before {
      width: 100%;
    }

    .navbar ul li a:hover {
      color: #cf0c02;
      background: rgba(207, 12, 2, 0.1);
    }

    /* Active page indicator */
    .navbar ul li a.active {
      color: #cf0c02;
      background: rgba(207, 12, 2, 0.1);
    }

    .navbar ul li a.active::before {
      width: 100%;
    }

    .logout-btn {
      background: #e74c3c;
      border: none;
      padding: 0.5rem 1rem;
      color: white;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease;
      font-weight: 600;
    }

    .logout-btn:hover {
      background: #c0392b;
    }

    /* Responsive navbar */
    @media (max-width: 768px) {
      .navbar {
        padding: 0.5rem 1rem;
        flex-wrap: wrap;
      }
      
      .navbar ul {
        gap: 0.5rem;
        margin-right: 1rem;
        flex-wrap: wrap;
      }
      
      .navbar ul li a {
        font-size: 0.8rem;
        padding: 0.3rem 0.6rem;
      }
      
      .navbar h1 {
        font-size: 1.8rem;
        margin-left: 0.5rem;
      }
      
      .navbar img {
        height: 50px;
        margin-right: 10px;
      }
    }

    @media (max-width: 1024px) {
      .navbar ul {
        gap: 1rem;
      }
      
      .navbar ul li a {
        font-size: 0.9rem;
        padding: 0.4rem 0.8rem;
      }
    }

    /* Analytics module styling to match the modern design */
    .analytics-module {
      background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
      border-radius: 16px;
      padding: 32px;
      margin: 24px 0;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      border: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    .analytics-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 24px;
    }
    
    .analytics-info {
      flex: 1;
    }
    
    .analytics-title {
      font-size: 14px;
      color: #6b7280;
      margin: 0 0 8px 0;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .analytics-value {
      font-size: 36px;
      font-weight: 700;
      color: #1f2937;
      margin: 0 0 4px 0;
      line-height: 1;
    }
    
    .analytics-percentage {
      font-size: 12px;
      color: #10b981;
      background: rgba(16, 185, 129, 0.1);
      padding: 2px 8px;
      border-radius: 12px;
      font-weight: 600;
      display: inline-block;
      margin: 4px 0 12px 0;
    }
    
    .analytics-subtitle {
      font-size: 13px;
      color: #9ca3af;
      margin: 0;
      font-weight: 400;
    }
    
    .period-selector {
      display: flex;
      gap: 4px;
      background: #f3f4f6;
      padding: 4px;
      border-radius: 10px;
    }
    
    .period-btn {
      padding: 8px 16px;
      border: none;
      background: transparent;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      color: #6b7280;
      min-width: 60px;
    }
    
    .period-btn.active {
      background: #ffffff;
      color: #1f2937;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .period-btn:hover:not(.active) {
      color: #374151;
      background: rgba(255, 255, 255, 0.5);
    }
    
    .chart-container {
      position: relative;
      height: auto;
      margin-top: 24px;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(147, 51, 234, 0.05) 100%);
      border-radius: 12px;
      padding: 16px;
    }

    /* Charts row and cards */
    .charts-row {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      align-items: stretch;
    }

    .chart-card {
      background: transparent;
      border-radius: 10px;
      padding: 12px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    .chart-card.large { flex: 1 1 600px; min-width: 480px; }
    .chart-card.small { flex: 0 0 360px; min-width: 320px; }

    .chart-canvas-wrap { height: 360px; display: flex; align-items: center; }
    .chart-canvas-wrap.small { height: 300px; }

    .chart-legend { margin-top: 12px; font-size: 13px; color: #374151; max-height: 160px; overflow: auto; padding-right: 6px; }
    
    .loading-spinner {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #6b7280;
      display: none;
      font-size: 14px;
    }
    
    .loading-spinner.show {
      display: block;
    }
    
    /* Custom chart styling */
    #analyticsChart {
      border-radius: 8px;
    }

    /* Customer distribution chart styling */
      .customer-distribution-card {
        background: #ffffff;
        border-radius: 12px;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        border: 1px solid #e5e7eb;
      }    .customer-distribution-title {
      font-size: 16px;
      font-weight: 600;
      color: #1f2937;
      margin: 0 0 16px 0;
      text-align: center;
    }

      .service-distribution-card {
        background: #ffffff;
        border-radius: 12px;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        border: 1px solid #e5e7eb;
      }    .service-distribution-title {
      font-size: 16px;
      font-weight: 600;
      color: #1f2937;
      margin: 0 0 16px 0;
      text-align: center;
    }

    .service-donut-legend {
      margin-top: 12px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
      font-size: 13px;
      color: #4b5563;
    }

    .legend-swatch {
      width: 12px;
      height: 12px;
      border-radius: 2px;
      margin-right: 8px;
      flex-shrink: 0;
    }

    /* Responsive charts */
    @media (max-width: 768px) {
      .charts-row {
        flex-direction: column !important;
      }
      
      .service-distribution-wrap,
      .customer-distribution-wrap {
        min-width: 100% !important;
      }
    }
    
    /* Employee Stats */
    .employee-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .stat-card {
      background: linear-gradient(135deg, #cf0c02 0%, #a30a00 100%);
      color: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 4px 20px rgba(207, 12, 2, 0.3);
      border: 1px solid rgba(207, 12, 2, 0.4);
      backdrop-filter: blur(10px);
    }
    
    .stat-card h3 {
      margin: 0 0 10px 0;
      font-size: 14px;
      opacity: 0.9;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .stat-card p {
      margin: 0;
      font-size: 28px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <img src="suavelogo.png" alt="Suave Logo" />
    <h1>Suave Super Admin</h1>
    <ul>
      <li><a href="/superadmin" class="nav-link active">Dashboard</a></li>
      <li><a href="/superadappointments" class="nav-link">View Appointments</a></li>
      <li><a href="/weeklyreports" class="nav-link">Weekly Reports</a></li>
      <li><a href="/manageaccounts" class="nav-link">Manage Accounts</a></li>
      <li><a href="/superadminbarber" class="nav-link">Manage Barbers</a></li>
    </ul>
    <button id="logoutBtn" class="logout-btn">Logout</button>
  </nav>

  <!-- Dashboard Content -->
  <div class="dashboard">
    <p id="welcome"></p>

    <!-- Employee Stats -->
    <div class="employee-stats">
      <div class="stat-card">
        <h3>Total Bookings</h3>
        <p id="total-bookings">Loading...</p>
      </div>
      <div class="stat-card">
        <h3>Total Barbers</h3>
        <p id="barber-count">Loading...</p>
      </div>
      <div class="stat-card">
        <h3>Haircut Services</h3>
        <p id="haircut-count">Loading...</p>
      </div>
      <div class="stat-card">
        <h3>Cut and Shave Services</h3>
        <p id="cut-and-shave-count">Loading...</p>
      </div>
    </div>

    <!-- Analytics Module -->
    <div class="analytics-module">
      <div class="analytics-header">
        <div class="analytics-info">
          <h2 class="analytics-title">Dashboard Analytics</h2>
          <p class="analytics-subtitle" id="analyticsSubtitle">Daily analytics overview for sales, services, and customer distribution</p>
        </div>
        <div class="period-selector">
          <button class="period-btn active" data-period="day">Daily</button>
          <button class="period-btn" data-period="week">Weekly</button>
          <button class="period-btn" data-period="month">Monthly</button>
        </div>
      </div>
      <div class="chart-container">
        <canvas id="analyticsChart"></canvas>
        <div class="loading-spinner" id="loadingSpinner">Loading analytics data...</div>
      </div>

      <!-- Charts Row (Service Distribution and Customer Distribution) -->
      <div class="charts-row" style="margin-top:18px; display: flex; gap: 2px; flex-wrap: wrap;">
        <!-- Service distribution donut -->
        <div class="service-distribution-wrap" style="flex: 1; min-width: 400px;">
          <div class="service-distribution-card">
            <h4 class="service-distribution-title">Service Distribution</h4>
            <div class="service-donut-inner">
              <canvas id="serviceDonutChart"></canvas>
            </div>
            <div id="service-legend" class="service-donut-legend"></div>
          </div>
        </div>

        <!-- Customer distribution bar chart -->
        <div class="customer-distribution-wrap" style="flex: 1; min-width: 400px;">
          <div class="customer-distribution-card">
            <h4 class="customer-distribution-title">Customer Distribution by Barber</h4>
            <div class="customer-bar-inner" style="height: 280px; position: relative;">
              <canvas id="customerBarChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Chart.js Library -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script>
    let analyticsChart = null;
    let currentPeriod = 'day';

    // Fetch superadmin welcome message
    async function fetchSuperAdminData() {
      try {
        const res = await fetch("/api/superadmin-dashboard");
        if (res.ok) {
          const data = await res.json();
          document.getElementById("welcome").textContent = data.message;
        } else {
          window.location.href = "/login"; // Not authorized
        }
      } catch (err) {
        console.error("Error:", err);
        window.location.href = "/login";
      }
    }
    
    // Load superadmin stats
    async function loadSuperAdminStats(period = 'day') {
      try {
        console.log('Loading superadmin stats for period:', period);
        // Load all stats from admin endpoint with period filtering
        const res = await fetch(`/api/admin/stats?period=${period}`);
        if (res.ok) {
          const data = await res.json();
          console.log('Superadmin stats data:', data);
          if (data.success) {
            document.getElementById("total-bookings").textContent = data.stats.totalBookings || "0";
            document.getElementById("barber-count").textContent = data.stats.barberCount || "0";
            document.getElementById("haircut-count").textContent = data.stats.haircutCount || "0";
            document.getElementById("cut-and-shave-count").textContent = data.stats.cutAndShaveCount || "0";
            console.log('Superadmin stats updated successfully for period:', period);
          }
        }
      } catch (err) {
        console.error("Error loading stats:", err);
      }
    }

    // Fetch analytics data
    async function fetchAnalyticsData(period) {
      const loadingSpinner = document.getElementById('loadingSpinner');
      loadingSpinner.classList.add('show');
      
      try {
        const response = await fetch(`/api/superadmin/analytics?period=${period}`);
        if (response.ok) {
          const data = await response.json();
          updateChart(data);
        } else {
          console.error('Failed to fetch analytics data');
        }
      } catch (error) {
        console.error('Error fetching analytics:', error);
      } finally {
        loadingSpinner.classList.remove('show');
      }
    }

    // Update chart with new data
    function updateChart(data) {
      const ctx = document.getElementById('analyticsChart').getContext('2d');
      
      if (analyticsChart) {
        analyticsChart.destroy();
      }

      // Create gradient for the line and fill
      const gradient = ctx.createLinearGradient(0, 0, 0, 180);
      gradient.addColorStop(0, 'rgba(99, 102, 241, 0.2)'); // Indigo at top
      gradient.addColorStop(0.5, 'rgba(139, 69, 193, 0.1)'); // Purple in middle  
      gradient.addColorStop(1, 'rgba(219, 39, 119, 0.05)'); // Pink at bottom

      const lineGradient = ctx.createLinearGradient(0, 0, 0, 180);
      lineGradient.addColorStop(0, '#6366f1'); // Indigo
      lineGradient.addColorStop(0.5, '#8b45c1'); // Purple
      lineGradient.addColorStop(1, '#db2777'); // Pink

      analyticsChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.labels || [],
          datasets: [{
            data: data.datasets?.[0]?.data || [],
            borderColor: lineGradient,
            backgroundColor: gradient,
            borderWidth: 3,
            fill: true,
            tension: 0.4, // Smooth curves
            pointBackgroundColor: '#ffffff',
            pointBorderColor: '#6366f1',
            pointBorderWidth: 2,
            pointRadius: 4,
            pointHoverRadius: 6,
            pointHoverBackgroundColor: '#ffffff',
            pointHoverBorderColor: '#6366f1',
            pointHoverBorderWidth: 3
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false // Hide legend to match design
            },
            tooltip: {
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              titleColor: '#fff',
              bodyColor: '#fff',
              borderColor: '#6366f1',
              borderWidth: 1,
              cornerRadius: 8,
              displayColors: false,
              padding: 12,
              titleFont: {
                size: 13,
                weight: '600'
              },
              bodyFont: {
                size: 12
              },
              callbacks: {
                title: function(context) {
                  return context[0].label;
                },
                label: function(context) {
                  return `â‚±${context.parsed.y.toLocaleString()}`;
                }
              }
            }
          },
          scales: {
            y: {
              display: true,
              beginAtZero: true,
              title: {
                display: true,
                text: 'Sales Revenue (â‚±)',
                color: '#6b7280',
                font: {
                  size: 12,
                  weight: 'bold'
                }
              },
              grid: {
                color: 'rgba(107, 114, 128, 0.1)'
              },
              ticks: {
                callback: function(value) {
                  return 'â‚±' + value.toLocaleString();
                },
                color: '#6b7280',
                font: {
                  size: 11
                }
              }
            },
            x: {
              display: true,
              title: {
                display: true,
                text: 'Date',
                color: '#6b7280',
                font: {
                  size: 12,
                  weight: 'bold'
                }
              },
              grid: {
                color: 'rgba(107, 114, 128, 0.1)'
              },
              ticks: {
                color: '#6b7280',
                font: {
                  size: 11
                },
                maxTicksLimit: 8
              }
            }
          },
          interaction: {
            intersect: false,
            mode: 'index'
          },
          elements: {
            point: {
              radius: 4,
              hoverRadius: 6
            }
          },
          layout: {
            padding: {
              top: 10,
              bottom: 10,
              left: 10,
              right: 10
            }
          }
        }
      });
    }

    // Service distribution donut chart
    let serviceDonutChart = null;
    async function fetchServiceDistribution(period = 'day') {
      try {
        console.log('ðŸ© [SuperAdmin] Fetching service distribution for period:', period);
        const res = await fetch(`/api/superadmin/service-distribution?period=${period}`);
        if (!res.ok) return;
        const data = await res.json();
        console.log('ðŸ© [SuperAdmin] Service distribution response:', JSON.stringify(data, null, 2));
        if (!data.success) return;

        const labels = data.distribution.map(d => d.service || 'Unknown');
        const counts = data.distribution.map(d => d.count);

        const ctx = document.getElementById('serviceDonutChart').getContext('2d');
        if (serviceDonutChart) serviceDonutChart.destroy();

        const bgColors = [
          '#ef4444', '#f59e0b', '#10b981', '#3b82f6', '#8b5cf6', '#ec4899', '#64748b'
        ];

        serviceDonutChart = new Chart(ctx, {
          type: 'doughnut',
          data: {
            labels,
            datasets: [{
              data: counts,
              backgroundColor: bgColors.slice(0, labels.length),
              hoverOffset: 8,
              borderColor: '#ffffff',
              borderWidth: 2
            }]
          },
          options: {
            plugins: {
              legend: { display: false },
              tooltip: { callbacks: { label: (ctx) => `${ctx.label}: ${ctx.parsed} (${Math.round((ctx.parsed / (data.total||1))*100)}%)` } }
            },
            responsive: true,
            maintainAspectRatio: false,
            cutout: '60%'
          }
        });

        // Build a simple legend
        const legendEl = document.getElementById('service-legend');
        legendEl.innerHTML = '';
        data.distribution.forEach((d, i) => {
          const color = bgColors[i % bgColors.length];
          const item = document.createElement('div');
          item.style.display = 'flex';
          item.style.alignItems = 'center';
          item.style.gap = '8px';
          item.style.marginBottom = '6px';
          item.innerHTML = `<span style="width:12px;height:12px;border-radius:3px;display:inline-block;background:${color}"></span><span>${d.service || 'Unknown'} â€” ${d.count} (${Math.round((d.count/(data.total||1))*100)}%)</span>`;
          legendEl.appendChild(item);
        });

      } catch (err) {
        console.error('Failed to load service distribution', err);
      }
    }

    // Customer distribution bar chart
    let customerBarChart = null;
    async function fetchCustomerDistribution(period = 'day') {
      try {
        console.log('ðŸ“Š [SuperAdmin] Fetching customer distribution for period:', period);
        const res = await fetch(`/api/superadmin/customer-distribution?period=${period}`, { credentials: 'same-origin' });
        if (!res.ok) return;
        const json = await res.json();
        console.log('ðŸ“Š [SuperAdmin] Customer distribution response:', JSON.stringify(json, null, 2));
        const dist = json.distribution || [];
        const labels = dist.map(d => d.barber);
        const values = dist.map(d => d.count);

        const canvas = document.getElementById('customerBarChart');
        if (!canvas) return;
        const ctx = canvas.getContext('2d');

        if (customerBarChart) customerBarChart.destroy();

        // Create gradient for bars
        const gradient = ctx.createLinearGradient(0, 0, 0, 200);
        gradient.addColorStop(0, '#3b82f6'); // Blue at top
        gradient.addColorStop(1, '#1d4ed8'); // Darker blue at bottom

        customerBarChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: labels,
            datasets: [{
              label: 'Customers Served',
              data: values,
              backgroundColor: gradient,
              borderColor: '#2563eb',
              borderWidth: 1,
              borderRadius: 6,
              borderSkipped: false,
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false
              },
              tooltip: {
                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                titleColor: '#fff',
                bodyColor: '#fff',
                borderColor: '#3b82f6',
                borderWidth: 1,
                cornerRadius: 8,
                displayColors: false,
                padding: 12,
                callbacks: {
                  label: function(context) {
                    return `${context.parsed.y} customers served`;
                  }
                }
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: 'Number of Customers',
                  color: '#6b7280',
                  font: {
                    size: 12,
                    weight: 'bold'
                  }
                },
                grid: {
                  color: 'rgba(107, 114, 128, 0.1)'
                },
                ticks: {
                  color: '#6b7280',
                  font: {
                    size: 11
                  },
                  stepSize: 1
                }
              },
              x: {
                title: {
                  display: true,
                  text: 'Barbers',
                  color: '#6b7280',
                  font: {
                    size: 12,
                    weight: 'bold'
                  }
                },
                grid: {
                  display: false
                },
                ticks: {
                  color: '#6b7280',
                  font: {
                    size: 11
                  },
                  maxRotation: 45
                }
              }
            },
            layout: {
              padding: {
                top: 10,
                bottom: 10,
                left: 10,
                right: 10
              }
            }
          }
        });
      } catch (err) {
        console.error('Failed to load customer distribution', err);
      }
    }

    // Handle period button clicks - now controls ALL charts
    function setupPeriodButtons() {
      const periodButtons = document.querySelectorAll('.period-btn');
      
      periodButtons.forEach(button => {
        button.addEventListener('click', async () => {
          // Remove active class from all buttons
          periodButtons.forEach(btn => btn.classList.remove('active'));
          // Add active class to clicked button
          button.classList.add('active');
          
          // Update current period
          currentPeriod = button.dataset.period;
          
          // Update all charts and stats with the new period
          await Promise.all([
            fetchAnalyticsData(currentPeriod),
            fetchServiceDistribution(currentPeriod),
            fetchCustomerDistribution(currentPeriod),
            loadSuperAdminStats(currentPeriod)
          ]);
          
          // Update subtitle based on period
          const subtitle = document.getElementById('analyticsSubtitle');
          if (subtitle) {
            switch(currentPeriod) {
              case 'day':
                subtitle.textContent = 'Daily analytics overview - Last 30 days';
                break;
              case 'week':
                subtitle.textContent = 'Weekly analytics overview - Last 12 weeks';
                break;
              case 'month':
                subtitle.textContent = 'Monthly analytics overview - Last 12 months';
                break;
            }
          }
        });
      });
    }

    // Logout is handled by logout-confirm.js (confirmation modal)

    // Initialize dashboard
    async function initializeDashboard() {
      await fetchSuperAdminData();
      setupPeriodButtons();
      await Promise.all([
        fetchAnalyticsData(currentPeriod),
        fetchServiceDistribution(currentPeriod),
        fetchCustomerDistribution(currentPeriod),
        loadSuperAdminStats(currentPeriod)
      ]);
    }

    // Start the application
    initializeDashboard();
  </script>
  <script src="logout-confirm.js"></script>
</body>
</html>
